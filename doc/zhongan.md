##### 众安总结

- jvm内存回收的一些基础 
- char array反转

- db设计； 
- hashmap实现原理； 
- concurrenthashmap，spring transaction； 
- 问算法和数据结构 
- 问做过的项目和你以后的发展和打算； 
- 问互联网经验，要有分布式的思路；
- 分布式锁Redis和zk
- 自己如何实现分布式锁(zk节点存活检测功能)
- 锁失效了任务没结束(锁续命)
- voliate理解
- 指令重排有哪些规则
- Select count 期间insert操作会对结果有影响吗，考察数据库事务和快照读
- 普通变量为何不能可见
- 二进制运算原理 1到6的砝码无限个，称重40最少用几个砝码
- 求X字符串个数，X字符串是翻转180度还保持原样的字符串，字符串内容为0到9





问多线程，锁的相关问题; 

然后问spring的底层源码; 

谈谈对spring框架的理解； 

说一下对set的理解; 

分布式调度是怎么做的；

为什么离职？对公司有什么看法；



一面问的主要是java的一些基础， 

  基础方面包括： 

  juc包里面AQS的源码细节、线程池的参数与流程、线程池存在的问题 

  java的hashmap相关
 

  数据库方面有mysql的innodb引擎锁的底层实现、以及回表、怎么避免索引覆盖
 

  框架方面问了spring源码部分内容，循环依赖怎么解决
 

  java 锁的类型，不同锁之间的实现有什么不同 

  然后问了项目中的一些具体细节，以及项目中有什么亮点
 

  二面主要问的是分布式相关的内容，问题如下 

多个服务之间调用的数据一致性问题，A服务中调用B服务 、C服务，B成功 C失败怎么解决？ 其实归根到底就是分布式事务的数据一致性解决方案，失败了数据怎么回滚  

  高并发的秒杀方案（前端页面资源静态化、按钮静止重提交，后端mq削峰、资源加锁、读数据缓存、后端黑名单过滤等）
  分布式定时任务执行 服务器时间不一致怎么解决？ ntp服务器 数据库服务器 redis服务器

  分布式服务器本地内存数据怎么同步 mq解决?

  问了springcloud相关

  还有一个问题就是主线程怎么捕捉子线程的异常

  





 问笔试的编程题，设计一个有线状态机，用面相对象的思想。状态机可扩展。 

 设计一个选课系统，前端后端数据库。主要是数据库怎么建表，一对一，多对多关系。 

 单元测试有没有写过？junit 

 最近看的什么技术书，印象深刻的部分？